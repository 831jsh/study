도커 소개
=========

컴퓨터 분야에서 컨테이너라는 개념은 오랜 역사를 갖고 있다. 하나 이상의 독립적인 머신이 중개 레이어(intermediation)를 통해 물리적 하드웨어에서 가상으로 동작하는 하이퍼바이저 가상화와는 달리 컨테이너는 운영체제의 커널 위에 존재하는 사용자 공간(user space)에서 동작한다.

따라서 컨테이너 가상화를 종종 운영체제 레벨 가상화라고 부르기도 한다. 컨테이너 기술을 사용하면 여러 개의 독립된 사용자 공간 인스턴스를 하나의 호스트에서 사용할 수 있다.

컨테이너를 사용하는 방식이 하이퍼바이저를 사용할 때만큼 완전히 독립적인 형태의 보안성을 제공하지는 못하다고 알려졌다. 이러한 주장에 대한 반박으로 경량화되어 있는 컨테이너의 개념을 사용하면 어느 정도는 보안 위험성을 감소시킬 수 있다.
그 이유는 가상 머신에서 하이퍼바이저를 사용하게 되면 하이퍼바이저 위에 운영체제가 모두 탑재되어야 하며 따라서 운영체제에 대한 공격을 막는 방법이 필요하다. 반면에 경량화된 컨테이너를 사용하면 운영체제 전체가 필요한 것이 아니라 컨테이너 내부에서 사용되는 극히 일부의 운영체제 기능만 필요하기 때문에 상대적으로 공격 위험에 대한 노출이 적다고 볼 수있다. 

이러한 제약에도 불구하고 컨테이너는 다양한 사용자 케이스 형태로 배포되고 적용되어 오고 있다. 다중 임대 서비스의 하이퍼스케일을 배포하는 경우, 경량화 샌드박싱, 그리고 보안성 문제에도 불구하고 프로세스 고립 환경에서 많이 사용된다. 실제 컨테이너의 가장 대중적인 예는 chroot jail 방법이다. 이 방법을 사용하면 프로세스들을 실행하기 위해 고립된 디렉터리 환경을 생성한다. 공격자가 고립된 디렉터리 위치가 아닌 다른 디렉터리 위치에 접근하여 프로세스를 실행시키려고 하면 이 환경에 갇히게 되고 더 나아가 호스트와 연동할 수가 없게 된다.

더 현대적인 컨테이너 기술은 OpenVZ, 솔라리스 Zones, lxc와 같은 리눅스 컨테이너를 포함하고 있다. 이러한 최신 기술들을 사용하면 컨테이너는 단순 실행 환경이라기보다 마치 스스로가 권한을 갖고 있는 완전한 기능의 호스트처럼 보이게 된다. 도커의 경우 그룹이나 네임스페이스를 제어하는 등의 현대 리눅스 커널의 기능을 갖고 있으며 이것은 컨테이너가 하나의 호스트에서 여러 컨테이너들이 동시에 존재할 수 있도록 해주는 리소스 관리 기능 뿐만 아니라 독립적인 자신만의 네트워크나 스토리지 스택과 같은 강력한 고립 기능을 갖는 다는 것을 의미한다. 

컨테이너는 일반적으로 제한된 오버헤드만을 허용하기 때문에 린 기술을 고려하고 있다. 전통적인 가상화 혹은 반가상화 기술과는 달리 컨트롤러를 실행하기 위한 에뮬레이션 레이어나 하이퍼바이저 레이어가 필요 없으며 대신에 운영체제의 일반적인 시스템 콜 인터페이스를 사용한다. 이것은 컨테이너를 실행할 때 요구되는 오버헤드를 줄여주고 하나의 호스트에서 더 많은 컨테이너들이 동작하도록 해준다. 

컨테이너의 역사에 비해 컨테이너의 활용도를 보면 대규모 시스템에는 적용되지 못 해왔다. 이렇게 된 주된 이유 중 하나는 컨테이너의 복잡도에 있다. 컨테이너가 복잡해지고 셋업이 어려우며 관리와 자동화가 어렵다. 도커의 목적은 이러한 제약을 해결하는 데 있다. 
